(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{ItzL:function(e,t,r){"use strict";var a=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.userAudit=i,t.getUserAuditDetail=l;var n=a(r("d6i3")),u=a(r("1l/V")),s=(r("Qyje"),a(r("t3Un")));function i(e){return c.apply(this,arguments)}function c(){return c=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/admin/user/verfy/".concat(t),{method:"PUT"}));case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return d=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/admin/user/verification/".concat(t),{method:"GET"}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}},tkEC:function(e,t,r){"use strict";var a=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("miYZ");var n=a(r("tsqr")),u=a(r("d6i3")),s=a(r("p0pE")),i=r("WzQc"),c=r("ItzL"),l={namespace:"users",state:{list:[],queryParams:{current:1,pageSize:10},total:0,user:{},userAuditDetail:{},editModalVisible:!1},effects:{getUserList:u.default.mark(function e(t,r){var a,n,c,l,d,o;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,c=r.put,l=r.select,e.next=4,l(function(e){return e.users.queryParams});case 4:return d=e.sent,d=(0,s.default)({},d,a),e.next=8,n(i.query,d);case 8:return o=e.sent,e.next=11,c({type:"set",payload:{list:o.data,total:o.pagination?o.pagination.total:o.data.length,queryParams:(0,s.default)({},a)}});case 11:case"end":return e.stop()}},e)}),getUser:u.default.mark(function e(t,r){var a,n,s,c;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(i.find,a);case 4:if(c=e.sent,!c){e.next=8;break}return e.next=8,s({type:"setUser",payload:c.data||[]});case 8:case"end":return e.stop()}},e)}),updateUser:u.default.mark(function e(t,r){var a,s,c,l,d;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,s=r.call,c=r.select,l=r.put,e.next=4,c(function(e){return e.global.currentUser.id});case 4:if(d=e.sent,!a.id){e.next=10;break}return e.next=8,s(i.update,a,d);case 8:e.next=12;break;case 10:return e.next=12,s(i.add,a,d);case 12:return e.next=14,l({type:"set",payload:{editModalVisible:!1}});case 14:n.default.success("\u4fdd\u5b58\u6210\u529f");case 15:case"end":return e.stop()}},e)}),toggleUserStatus:u.default.mark(function e(t,r){var a,n,s,c,l,d,o;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=a.targetUserId,s=a.enabled,c=r.call,l=r.put,d=r.select,e.next=4,d(function(e){return e.global.currentUser.id});case 4:if(o=e.sent,!s){e.next=10;break}return e.next=8,c(i.thawUser,n);case 8:e.next=12;break;case 10:return e.next=12,c(i.freezeUser,{targetUserId:n,currentUserId:o});case 12:return e.next=14,l({type:"getUserList"});case 14:case"end":return e.stop()}},e)}),userAudit:u.default.mark(function e(t,r){var a,n,s;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(c.userAudit,a);case 4:return e.next=6,s({type:"getUserList"});case 6:return e.next=8,s({type:"set",payload:{editModalVisible:!1}});case 8:case"end":return e.stop()}},e)}),getUserAuditDetail:u.default.mark(function e(t,r){var a,n,s,i;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(c.getUserAuditDetail,a);case 4:return i=e.sent,e.next=7,s({type:"set",payload:{userAuditDetail:i.data||{}}});case 7:case"end":return e.stop()}},e)})},reducers:{set:function(e,t){var r=t.payload;return(0,s.default)({},e,r)},setListConditions:function(e,t){var r=t.payload,a=(0,s.default)({},e.listConditions,r);return(0,s.default)({},e,{listConditions:a})},setEditModalVisible:function(e,t){var r=t.payload;return(0,s.default)({},e,{editModalVisible:r})},setUser:function(e,t){var r=t.payload;return(0,s.default)({},e,{user:r})}}};t.default=l}}]);