(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"+eCD":function(t,e,a){"use strict";var n=a("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("miYZ");var r=n(a("tsqr")),u=n(a("d6i3")),i=n(a("p0pE")),c=a("MJpP"),s=a("WzQc"),o={namespace:"organization",state:{data:{list:[],pagination:{}},current:{},detailModalVisible:!1,auditModalVisible:!1,userModalVisible:!1,noOrgUsers:[],id:void 0},effects:{fetch:u.default.mark(function t(e,a){var n,r,s,o,d;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,s=a.put,o={current:1,pageSize:20},t.next=5,r(c.queryOrganization,(0,i.default)({},o,n));case 5:return d=t.sent,t.next=8,s({type:"set",payload:{data:{list:d?d.data:[],pagination:d?d.pagination:{}}}});case 8:case"end":return t.stop()}},t)}),fetchItem:u.default.mark(function t(e,a){var n,r,i,s,o;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.payload,n=a.call,r=a.put,i=a.select,t.next=4,i(function(t){return t.organization.id});case 4:return s=t.sent,t.next=7,n(c.fetchOrganization,s);case 7:return o=t.sent,t.next=10,r({type:"set",payload:{current:o.data||{}}});case 10:case"end":return t.stop()}},t)}),update:u.default.mark(function t(e,a){var n,i,s;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,i=a.call,s=a.put,t.next=4,i(c.updateOrganization,n);case 4:return t.next=6,s({type:"fetch"});case 6:r.default.success("\u4fee\u6539\u6210\u529f",2);case 7:case"end":return t.stop()}},t)}),add:u.default.mark(function t(e,a){var n,i,s;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,i=a.call,s=a.put,t.next=4,i(c.addOrganization,n);case 4:return t.next=6,s({type:"fetch"});case 6:r.default.success("\u4fdd\u5b58\u6210\u529f",2);case 7:case"end":return t.stop()}},t)}),remove:u.default.mark(function t(e,a){var n,i,s;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,i=a.call,s=a.put,t.next=4,i(c.removeOrganization,n);case 4:return t.next=6,s({type:"fetch"});case 6:r.default.success("\u5220\u9664\u6210\u529f",2);case 7:case"end":return t.stop()}},t)}),getNoOrgUsers:u.default.mark(function t(e,a){var n,r,i;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.payload,n=a.call,r=a.put,t.next=4,n(s.getNoOrgUsers);case 4:return i=t.sent,t.next=7,r({type:"set",payload:{noOrgUsers:i.data||[]}});case 7:case"end":return t.stop()}},t)}),addUsers:u.default.mark(function t(e,a){var n,i;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,i=a.call,a.put,t.next=4,i(c.addUsers,n);case 4:r.default.success("\u6dfb\u52a0\u7528\u6237\u6210\u529f",2);case 5:case"end":return t.stop()}},t)}),auditOrganization:u.default.mark(function t(e,a){var n,i,s,o;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,i=a.call,s=a.select,t.next=4,s(function(t){return t.organization.current.id});case 4:return o=t.sent,t.next=7,i(c.auditOrganization,o,n);case 7:r.default.success("\u5ba1\u6838\u6210\u529f",2);case 8:case"end":return t.stop()}},t)})},reducers:{toggleDetailModalVisible:function(t,e){var a=e.payload;return(0,i.default)({},t,{detailModalVisible:a.visible,id:a.id})},clearCurrent:function(t){return(0,i.default)({},t,{id:void 0,current:{}})},set:function(t,e){var a=e.payload;return(0,i.default)({},t,a)}}};e.default=o},MJpP:function(t,e,a){"use strict";var n=a("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.queryOrganization=s,e.fetchOrganization=d,e.removeOrganization=p,e.addOrganization=h,e.updateOrganization=y,e.checkOrganization=v,e.auditOrganization=m,e.addUsers=b;var r=n(a("d6i3")),u=n(a("1l/V")),i=a("Qyje"),c=n(a("t3Un"));function s(t){return o.apply(this,arguments)}function o(){return o=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization?".concat((0,i.stringify)(e))));case 1:case"end":return t.stop()}},t)})),o.apply(this,arguments)}function d(t){return l.apply(this,arguments)}function l(){return l=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization/".concat(e)));case 1:case"end":return t.stop()}},t)})),l.apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return f=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization/".concat(e),{method:"DELETE"}));case 1:case"end":return t.stop()}},t)})),f.apply(this,arguments)}function h(t){return w.apply(this,arguments)}function w(){return w=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization",{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),w.apply(this,arguments)}function y(t){return g.apply(this,arguments)}function g(){return g=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization/".concat(e.id),{method:"PUT",body:e}));case 1:case"end":return t.stop()}},t)})),g.apply(this,arguments)}function v(t){return x.apply(this,arguments)}function x(){return x=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization/".concat(e,"/detection"),{method:"PATCH"}));case 1:case"end":return t.stop()}},t)})),x.apply(this,arguments)}function m(t,e){return z.apply(this,arguments)}function z(){return z=(0,u.default)(r.default.mark(function t(e,a){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization/".concat(e,"/audit?").concat((0,i.stringify)(a)),{method:"PUT"}));case 1:case"end":return t.stop()}},t)})),z.apply(this,arguments)}function b(t){return O.apply(this,arguments)}function O(){return O=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/organization/users",{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),O.apply(this,arguments)}}}]);